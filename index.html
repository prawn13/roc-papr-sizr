<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    
</head>
<body>  
    <script>
        let move = ['rock', 'paper', 'scissors'];
        
        function game() {
            let player = 0;
            let comp = 0;
            
            while (player + comp < 5)   {
                winner = play(prompt("rock, paper, scissors!"));
                if (winner == 'player') {
                    player++;
                    console.log(winner + " wins... the current score is player " + player + " - computer " + comp + ".");
                }
                else if (winner == "comp")  {
                    comp++;
                    console.log(winner + " wins... the current score is player " + player + " - computer " + comp + ".");
                }
                else    {
                    console.log("it's a tie!");
                }
            }

            console.log("The final score was " + player + " - computer " + comp + ". good job everyone : )");
        }
        
        function computerPlay() {
            let move = ['rock', 'paper', 'scissors'];
            let rand = Math.floor((Math.random() * 3));
            return move[rand];
        }

        function play(playerMove, compMove = computerPlay()) {
            playerMove = playerMove.toLowerCase();
            if (!move.includes(playerMove)) {
                play(prompt("try again? rock, paper, scissors!"), computerPlay());
            }
            else    {
                console.log("u played " + playerMove);
                console.log("computer played " + compMove);
                return evaluateWinner(playerMove, compMove);
            }
        }

        // returns the winner of the round
        function evaluateWinner(player, comp)   {
            player = move.indexOf(player);
            comp = move.indexOf(comp);

            if (player == comp) {
                return 'tie';
            }
            else if (player - comp == 1 || player - comp == -2)  {
                return 'player';
            }
            else{
                return 'comp';
            }
        }

        
        game();
    </script>
</body>
</html>