<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>roc paper sizr !!</title>

    <link rel="stylesheet" href="style.css">
</head>
<body>  
   
    <div class="container">
        <div class="buttons">
            <button class="rock">roc</button>
            <button class="paper">papr</button>
            <button class="scissors">sizr</button>
        </div>

        <div class="text">
            <div class="result"></div>
            <span class="winner"></span>
            <div class="score"></div>
        </div>
    </div>

    <script>
        let move = ['rock', 'paper', 'scissors'];

        const roc = document.querySelector('.rock');
        const papr = document.querySelector('.paper');
        const sizr = document.querySelector('.scissors');
        const result = document.querySelector('.result');
        const score = document.querySelector('.score');
        const winner = document.querySelector('.winner');

        roc.addEventListener('click', function() {play('rock', computerPlay())});
        papr.addEventListener('click', function() {play('paper', computerPlay())});
        sizr.addEventListener('click', function() {play('scissors', computerPlay())});
        
        let playerScore = 0;
        let compScore = 0;
        
        function computerPlay() {
            let move = ['rock', 'paper', 'scissors'];
            let rand = Math.floor((Math.random() * 3));
            return move[rand];
        }

        function play(playerMove, compMove = computerPlay()) {
            result.innerText = "u played " + playerMove + ", && computer played " + 
                compMove + "... the winner is ! ";
            winner.innerText = evaluateWinner(playerMove, compMove);
        }

        // returns the winner of the round
        function evaluateWinner(player, comp)   {
            player = move.indexOf(player);
            comp = move.indexOf(comp);
            let winner = '';

            if (player == comp) {
                winner = 'TIE';
            }
            else if (player - comp == 1 || player - comp == -2)  {
                playerScore += 1;
                winner = 'PLAYER';
            }
            else{
                compScore += 1;
                winner = 'COMP';
            }

            score.innerText = "current score : player/" + playerScore + " \n computer/" + compScore;
            return winner;
        }
    </script>
</body>
</html>